
const input = document.querySelectorAll('input');
const output = document.querySelector('p');

const youFollowed = document.getElementById('youFollowed');
const followers = document.getElementById('followers');
const btn = document.getElementById('btn');
let youFollowedFile;
let followersFile;


input.forEach(input => {
    input.addEventListener('change', () => {
        const file1 = input.files[0];
        const reader1 = new FileReader();

        const file2 = input.files[1];
        const reader2 = new FileReader();

        reader1.onload = function () {
            youFollowedFile = reader1.result;
            
        };

        reader2.onload = function () {
            followersFile = reader2.result;
        };

        reader1.readAsText(file1);
        reader2.readAsText(file2);


    });
});




const getProduct = async () => {

    try {
        const response = await fetch(youFollowedFile);
        if (!response.ok) {
            throw new Error("HTTP error " + response.status);
        }
         youFollowedFile = await response.json();
        console.log(youFollowedFile);
    } catch (error) {
        console.error("Error fetching products:", error);
    }


    try {
        const response = await fetch(followersFile);
        if (!response.ok) {
            throw new Error("HTTP error " + response.status);
        }
         followersFile = await response.json();
        console.log(followersFile);
    } catch (error) {
        console.error("Error fetching products:", error);
    }
}

getProduct();


btn.addEventListener('click', () => {
    getProduct();
    console.log(followersFile);
    console.log(youFollowedFile);
});